---
// CTA Section - Work with me / Connect section
import { Icon } from 'astro-icon/components';

const connectOptions = [
  {
    title: 'Newsletter',
    description: 'Weekly insights on ADHD productivity, automation, and building for neurodivergent minds.',
    icon: 'heroicons:envelope',
    url: '#newsletter',
    cta: 'Subscribe',
    color: '#F67280',
    stat: '20 subscribers'
  },
  {
    title: 'Etsy Shop',
    description: 'ADHD-positive apparel, journals, and accessories designed for different minds.',
    icon: 'heroicons:shopping-bag',
    url: 'https://www.etsy.com/shop/AwakeningApparel',
    cta: 'Shop Now',
    color: '#FFDD57',
    stat: '31+ sales'
  },
  {
    title: 'GitHub',
    description: 'Open-source projects including Neuro-Pipeline and automation tools.',
    icon: 'heroicons:code-bracket',
    url: 'https://github.com/shawngarlandgit',
    cta: 'View Projects',
    color: '#2C786C',
    stat: '6 apps'
  },
  {
    title: 'Contact',
    description: 'Questions, collaborations, or just want to connect? Reach out directly.',
    icon: 'heroicons:chat-bubble-left-right',
    url: 'mailto:hello@awknd.me',
    cta: 'Email Me',
    color: '#4B3F72',
    stat: 'hello@awknd.me'
  }
];
---

<section id="connect" class="py-20 md:py-28 relative">
  <!-- Background gradient -->
  <div class="absolute inset-0 bg-gradient-to-b from-transparent via-[#4B3F7208] to-transparent pointer-events-none"></div>

  <div class="container mx-auto px-6 relative z-10">
    <!-- Section header -->
    <div class="text-center mb-12 cta-header">
      <p class="text-[#F67280] text-sm font-medium uppercase tracking-wider mb-2">Let's Connect</p>
      <h2 class="text-3xl md:text-4xl font-bold text-white mb-4">Work With Me</h2>
      <p class="text-white/60 max-w-2xl mx-auto">
        Whether you want to follow along, shop the collection, explore the code, or start a conversationâ€”here's how to connect.
      </p>
    </div>

    <!-- Connect options grid -->
    <div class="max-w-5xl mx-auto">
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6 cta-grid">
        {connectOptions.map((option, index) => (
          <a
            href={option.url}
            target={option.url.startsWith('http') ? '_blank' : undefined}
            rel={option.url.startsWith('http') ? 'noopener noreferrer' : undefined}
            class="cta-card glass-dark rounded-2xl p-6 border border-white/10 hover:border-white/20 transition-all duration-300 group block"
            data-index={index}
          >
            <div class="flex items-start gap-4">
              <!-- Icon -->
              <div
                class="w-12 h-12 rounded-xl flex items-center justify-center flex-shrink-0 transition-colors"
                style={`background: ${option.color}20;`}
              >
                <Icon name={option.icon} class="w-6 h-6" style={`color: ${option.color};`} />
              </div>

              <!-- Content -->
              <div class="flex-grow">
                <div class="flex items-center gap-2 mb-1">
                  <h3 class="text-white font-semibold text-lg">{option.title}</h3>
                  <Icon
                    name="heroicons:arrow-up-right"
                    class="w-4 h-4 text-white/30 group-hover:text-white/60 transition-colors"
                  />
                </div>
                <p class="text-white/50 text-sm mb-3 leading-relaxed">{option.description}</p>
                <div class="flex items-center justify-between">
                  <span
                    class="text-sm font-medium transition-colors"
                    style={`color: ${option.color};`}
                  >
                    {option.cta}
                  </span>
                  <span class="text-white/30 text-xs">{option.stat}</span>
                </div>
              </div>
            </div>
          </a>
        ))}
      </div>
    </div>

    <!-- Bottom callout -->
    <div class="max-w-3xl mx-auto mt-12 text-center cta-callout">
      <div class="glass-dark rounded-2xl p-8 border border-white/10">
        <Icon name="heroicons:rocket-launch" class="w-8 h-8 text-[#F67280] mx-auto mb-4" />
        <h3 class="text-xl font-bold text-white mb-2">Building in Public</h3>
        <p class="text-white/60 mb-4">
          Follow the journey as I build 10 brands, ship 6 applications, and document everything along the way.
          Real progress, real challenges, real results.
        </p>
        <div class="flex flex-wrap justify-center gap-3">
          <a
            href="https://github.com/shawngarlandgit"
            target="_blank"
            rel="noopener noreferrer"
            class="px-4 py-2 bg-white/5 hover:bg-white/10 text-white/70 text-sm rounded-lg border border-white/10 transition-colors flex items-center gap-2"
          >
            <Icon name="heroicons:code-bracket" class="w-4 h-4" />
            GitHub
          </a>
          <a
            href="https://linkedin.com/in/shawngarland"
            target="_blank"
            rel="noopener noreferrer"
            class="px-4 py-2 bg-white/5 hover:bg-white/10 text-white/70 text-sm rounded-lg border border-white/10 transition-colors flex items-center gap-2"
          >
            <Icon name="heroicons:briefcase" class="w-4 h-4" />
            LinkedIn
          </a>
        </div>
      </div>
    </div>
  </div>
</section>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    // @ts-ignore
    const gsap = window.gsap;
    // @ts-ignore
    const ScrollTrigger = window.ScrollTrigger;

    if (!gsap || !ScrollTrigger) return;

    // Header animation
    gsap.fromTo('.cta-header',
      { y: 40, opacity: 0 },
      {
        scrollTrigger: {
          trigger: '#connect',
          start: 'top 80%',
          end: 'top 60%',
          scrub: 1
        },
        y: 0,
        opacity: 1
      }
    );

    // Grid cards stagger
    gsap.fromTo('.cta-card',
      { y: 30, opacity: 0 },
      {
        scrollTrigger: {
          trigger: '.cta-grid',
          start: 'top 80%',
          end: 'top 50%',
          scrub: 1
        },
        y: 0,
        opacity: 1,
        stagger: 0.1
      }
    );

    // Callout fade in
    gsap.fromTo('.cta-callout',
      { y: 30, opacity: 0 },
      {
        scrollTrigger: {
          trigger: '.cta-callout',
          start: 'top 90%',
          end: 'top 70%',
          scrub: 1
        },
        y: 0,
        opacity: 1
      }
    );
  });
</script>

<style>
  .glass-dark {
    background: rgba(255, 255, 255, 0.03);
    backdrop-filter: blur(10px);
  }

  .cta-card:hover {
    transform: translateY(-2px);
  }
</style>
