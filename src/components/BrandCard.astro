---
import { Icon } from 'astro-icon/components';

interface Props {
  name: string;
  tagline: string;
  description: string;
  color: string;
  icon: string;
  tier: 1 | 2 | 3;
  url?: string;
  size?: 'large' | 'medium' | 'small';
}

const { name, tagline, description, color, icon, tier, url = '#', size = 'medium' } = Astro.props;

const sizeClasses = {
  large: 'col-span-2 row-span-2 md:col-span-2 md:row-span-2',
  medium: 'col-span-2 md:col-span-1 row-span-1',
  small: 'col-span-1 row-span-1'
};

const tierBadge = {
  1: { label: 'Primary', bg: 'bg-[#F67280]/20', text: 'text-[#F67280]' },
  2: { label: 'Supporting', bg: 'bg-[#5B9BD5]/20', text: 'text-[#5B9BD5]' },
  3: { label: 'Passive', bg: 'bg-[#7B68A3]/20', text: 'text-[#7B68A3]' }
};
---

<a
  href={url}
  class={`brand-card bento-card block ${sizeClasses[size]} relative overflow-hidden rounded-3xl p-6 md:p-8 group cursor-pointer`}
  style={`--brand-color: ${color};`}
  data-tier={tier}
>
  <!-- Background gradient -->
  <div
    class="absolute inset-0 opacity-10 group-hover:opacity-20 transition-opacity duration-500"
    style={`background: linear-gradient(135deg, ${color} 0%, transparent 60%);`}
  ></div>

  <!-- Glass effect overlay -->
  <div class="absolute inset-0 glass-dark"></div>

  <!-- Content -->
  <div class="relative z-10 h-full flex flex-col">
    <!-- Header -->
    <div class="flex items-start justify-between mb-4">
      <!-- Icon -->
      <div
        class="w-12 h-12 md:w-16 md:h-16 rounded-2xl flex items-center justify-center"
        style={`background: ${color}20; color: ${color};`}
      >
        <Icon name={icon} class="w-6 h-6 md:w-8 md:h-8" />
      </div>

      <!-- Tier badge -->
      <span class={`px-3 py-1 rounded-full text-xs font-medium ${tierBadge[tier].bg} ${tierBadge[tier].text}`}>
        {tierBadge[tier].label}
      </span>
    </div>

    <!-- Brand name -->
    <h3 class="text-xl md:text-2xl font-bold text-white mb-2 group-hover:text-[var(--brand-color)] transition-colors duration-300">
      {name}
    </h3>

    <!-- Tagline -->
    <p class="text-sm md:text-base text-white/60 mb-4" style={`color: ${color};`}>
      {tagline}
    </p>

    <!-- Description -->
    <p class="text-sm text-white/50 leading-relaxed flex-grow">
      {description}
    </p>

    <!-- Arrow indicator -->
    <div class="mt-4 flex items-center gap-2 text-white/40 group-hover:text-white/80 transition-colors duration-300">
      <span class="text-sm">Explore</span>
      <svg
        class="w-4 h-4 transform group-hover:translate-x-2 transition-transform duration-300"
        fill="none"
        stroke="currentColor"
        viewBox="0 0 24 24"
      >
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"/>
      </svg>
    </div>
  </div>

  <!-- Hover glow effect -->
  <div
    class="absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none"
    style={`box-shadow: inset 0 0 60px ${color}30;`}
  ></div>
</a>

<style>
  .brand-card {
    border: 1px solid rgba(255, 255, 255, 0.05);
  }

  .brand-card:hover {
    border-color: var(--brand-color);
  }
</style>
